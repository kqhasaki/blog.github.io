---
title: CSS盒模型
date: 2022-06-16
cover: https://tva1.sinaimg.cn/large/e6c9d24egy1h3agxr7fy7j20ik0b4wez.jpg
---

在 CSS 中，所有的元素都被一个个的“盒子”（box）包围着，理解这些“盒子”的基本原理是我们使用 CSS 实现准确布局、处理元素排列的关键。

在理解盒模型的基础上，我们才可以完成更加复杂的布局任务。

# 块级盒子和内联盒子

在 CSS 中我们会广泛使用两种“盒子”——**块级盒子**（block box）和**内联盒子**（inline box）。这两种盒子会在**页面流**（page flow）和**元素之间的关系**方面表现出不同的行为。

一个被定义成块级的盒子会表现出以下行为：

- 盒子会在内联的方向上扩展并占据符容器在该方向上的所有可用空间，在绝大多数情况下意味着盒子会和父容器一样宽。
- 每个盒子都会换行。
- `width`和`height`属性可以发挥作用。
- 内边距（padding），外边距（margin）和边框（border）会将其他元素从当前盒子周围“推开”。

除非特殊指定，诸如标题`<h1>`等和段落`<p>`默认情况下都是块级的盒子。

如果一个盒子对外显示为`inline`，那么它的行为如下：

- 盒子不会产生换行。
- `width`和`height`属性将不起作用。
- 垂直方向的内边距、外边距以及边框会被应用但是不会把其他处于`inline`状态的盒子推开。
- 水平方向的内边距、外边距以及边框会被应用且会把其他处于`inline`状态的盒子推开。

用作链接的`<a>`元素、`<span>`、`<em>`以及`<strong>`都是默认处于`inline`状态的。

我们通过对盒子`display`属性的设置，例如`block`或者`inline`，来控制盒子的外部显示类型。

# 内部和外部显示类型

这里需要解释一下**内部**和**外部**显示类型。如上所述，CSS 的盒模型有一个外部显示类型，来决定盒子是块级还是内联。

同样，盒模型还有内部显示类型，它决定了盒子内部元素是如何布局的。默认情况下是按照**正常文档流**布局，也意味着它们和其他块元素以及内联元素一样。

但是我们可以通过使用类似`flex`的`display`属性值来更改内部显示类型。如果设置`display: flex`，在一个元素 s 行，外部显示类型会是`block`，但是内部显示类型是`flex`。该盒子的所有直接子元素都会成为 flex 元素，会根据**弹性盒子**规则进行布局。

块级布局和内联布局是 Web 文档默认的行为，因此它有时候被称为**正常文档流**，因为如果没有其他说明，我们的盒子布局默认是块级或者内联。

# CSS 盒模型概念

完整的 CSS 盒模型应用于块级盒子，内联盒子只使用盒模型中定义的部分内容。模型定义了盒的每个部分——margin，border，padding 以及 content，它们合在一起就可以创建我们在页面上看到的内容。

一般来说，有一个标准的盒模型（`content-box`）和一个替代盒模型（`border-box`）。

## 盒模型的各个部分

CSS 中组成一个块级盒子需要：

- Content box：这个区域是用来显示内容，大小可以通过设置`width`和`height`。
- Padding box：包围在内容区域外部的空白区域，大小通过`padding`相关属性设置。
- Border box：边框盒包裹内容和内边距，大小通过`border`相关属性设置。
- Margin box：这是最外面的区域，是盒子和其他元素之间的空白区域。大小通过`margin`相关属性设置。

![](https://mdn.mozillademos.org/files/16558/box-model.png)

## 标准盒模型

在标准模型中，如果你给盒设置`width`和`height`，实际设置的是 content box。padding box 和 border box 的大小再加上内容宽高一起决定整个盒子的大小。

```css
box {
  width: 350px;
  height: 150px;
  margin: 25px;
  padding: 25px;
  border: 5px solid black;
}
```

![](https://mdn.mozillademos.org/files/16559/standard-box-model.png)

> Margin box 不计入实际大小。当然，它会影响盒子在页面所占的空间，但是影响的是盒子外部空间。盒子的范围到边框为止，不包括 Margin box。

## 替代盒模型

有时我们会认为盒子的大小还要加上边框和内边距，这样很麻烦。因为这个原因，CSS 还提供了一个替代盒模型。使用这个模型，所有宽度都是可见宽度，所以内容宽度是该宽度减去边框和填充部分。
![](https://mdn.mozillademos.org/files/16557/alternate-box-model.png)

默认情况下，浏览器会使用标准模型。如果需要使用替代模型，可以通过为其设置`box-sizing: border-box`来实现。这样就可以告诉浏览器使用`border-box`来定义区域，从而设置想要的大小。

如果希望所有元素都使用替代模式，而且确实很常用，设置`<html>`元素的`box-sizing`，然后设置所有元素继承该属性。

# 盒子模型和内联盒子

盒子模型的提供的所有方法都适用于块级盒子。有些属性也可以应用于内联盒子，例如由`<span>`元素创建的那些内敛盒子。

例如，我们在一个段落中使用了`<span>`，并对其应用了高度、宽度、边距、边框和内边距。可以看到，宽度和高度被忽略了。外边距、内边距和边框是生效的，但它们不会改变其他内容与内联盒子的关系，因此内边距和边框会与段落中其他单词重叠。

![](https://tva1.sinaimg.cn/large/e6c9d24egy1h3aih8qutlj20q80zsdiq.jpg)

# 使用`display: inline-block`

`display`有一个特殊的值，它在内联和块之间提供了一个中间状态。这对以下情况非常有用：我们不希望某一个项切换到新行，但希望它可以设定宽度和高度，并避免上面看到的重叠。

一个元素使用`display: inline-block`，实现我们需要的块级的部分效果：

- 设置`width`和`height`属性会生效。
- `padding`、`margin`以及`border`会推开其他元素。

但是，它不会跳转到新行，如果显式添加`width`和`height`属性，它只会变得比其他内容更大。

![](https://tva1.sinaimg.cn/large/e6c9d24egy1h3aimcbcz8j20q411mju5.jpg)
